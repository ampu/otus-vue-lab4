import{d as f,E as k,c as n,y as h,a as B,n as S,q as _,u as c,b,o as i,f as E,g as F,s as V,h as w,i as g}from"./index-432f5527.js";import{b as v,E as C,d as x}from"./navigation-helpers-8bfbb388.js";import{B as y}from"./BookForm-660d989f.js";import{u as N}from"./book-store-5264f88b.js";import{F as I}from"./flash-types-70b6c1de.js";import"./lodash-cfb1e125.js";import"./add-1f9f74e1.js";const T=b("h1",null,"Edit Book",-1),A=f({__name:"EditBookView",props:{bookId:null},setup(d){const m=d,o=w(),s=g(),e=N(),l=k(),t=n(()=>e.getBook(m.bookId)),r=n(()=>e.fetchStatuses);h([t,r],()=>{!t.value&&r.value.active&&x(o,s)},{immediate:!0});const p=async u=>{await e.updateBook(u),l.addFlash({status:I.SUCCESS,message:"Book edited"});const a=s.query.redirect;if(!a){await o.push({name:"books"});return}await v(o,a)};return(u,a)=>(i(),B("div",null,[T,S(y,{modelValue:c(t),"onUpdate:modelValue":p},{default:_(()=>[(i(),E(F(c(C)))),V(" Edit ")]),_:1},8,["modelValue"])]))}});export{A as default};
