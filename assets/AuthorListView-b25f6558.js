import{A as N}from"./add-ba4f0a09.js";import{d as L,c as d,r as b,o as C,a as s,b as a,e as t,w as k,v as x,u as e,f as _,F,g as E,t as A,h,i as R,j as T,k as $,l as q,p as U,m as j,_ as I,n as w,q as D,s as M,Q as O}from"./index-a893f17b.js";import{E as Q,g as z,a as G}from"./navigation-helpers-6c2cd6a7.js";import{u as H,T as J}from"./use-page-f6228473.js";import{a as K,u as W}from"./book-store-1d1fc36a.js";import"./lodash-364b2391.js";const u=i=>(U("data-v-3665d777"),i=i(),j(),i),X={class:"table table-striped align-middle text-center"},Y=u(()=>t("tr",{class:"title"},[t("th",null,"Name"),t("th",null,"Country"),t("th",{style:{width:"58px"}})],-1)),Z={class:"filter"},tt=["disabled"],et=["disabled"],ot=u(()=>t("th",null,null,-1)),st={key:0},at=u(()=>t("tr",null,[t("td",{colspan:"10"},"Loading...")],-1)),nt=[at],lt={key:1},rt=u(()=>t("tr",null,[t("td",{colspan:"10"},"Something went wrong... Please come back later!")],-1)),dt=[rt],ut={key:2},it=u(()=>t("tr",null,[t("td",{colspan:"10"},"No authors found... Please add one!")],-1)),ct=[it],_t={key:3},ht=u(()=>t("tr",null,[t("td",{colspan:"10"},"No authors matching your filter... Please weaken your requirements!")],-1)),pt=[ht],mt={key:4},gt={class:"d-flex gap-2"},vt=["onClick"],ft=L({__name:"AuthorList",setup(i){const v=$(),f=q(),c=K(),y=W(),n=d(()=>y.fetchStatuses),l=b({}),P=d(()=>Object.values(l.value).some(Boolean)),p=d(()=>c.getAuthors(l.value)),S=d(()=>z(p.value,m.value,g.value)),B=d(()=>c.authors.length===0),V=d(()=>p.value.length===0),g=b(5),m=H("authors",()=>G(p.value.length,g.value));return C(y.fetchBooks),(At,r)=>(s(),a("table",X,[t("thead",null,[Y,t("tr",Z,[t("th",null,[k(t("input",{class:"form-control","onUpdate:modelValue":r[0]||(r[0]=o=>l.value.name=o),disabled:e(n).disabled},null,8,tt),[[x,l.value.name]])]),t("th",null,[k(t("input",{class:"form-control","onUpdate:modelValue":r[1]||(r[1]=o=>l.value.country=o),disabled:e(n).disabled},null,8,et),[[x,l.value.country]])]),ot])]),e(n).pending?(s(),a("tbody",st,nt)):_("",!0),e(n).error?(s(),a("tbody",lt,dt)):_("",!0),e(n).active&&e(B)?(s(),a("tbody",ut,ct)):e(n).active&&e(V)?(s(),a("tbody",_t,pt)):_("",!0),e(n).active?(s(),a("tbody",mt,[(s(!0),a(F,null,E(e(S),o=>(s(),a("tr",{key:o.id},[t("td",null,A(o.name),1),t("td",null,A(o.country??"-"),1),t("td",null,[t("div",gt,[t("button",{type:"button",class:"btn btn-outline-secondary action",onClick:wt=>e(v).push({name:"authors-edit",params:{authorId:o.id},query:{redirect:e(f).fullPath}})},[h(e(Q))],8,vt)])])]))),128))])):_("",!0),e(n).active?(s(),R(J,{key:5,page:e(m),"onUpdate:page":r[2]||(r[2]=o=>T(m)?m.value=o:null),isFiltered:e(P),total:e(c).authors.length,filtered:e(p).length,perPage:g.value},null,8,["page","isFiltered","total","filtered","perPage"])):_("",!0)]))}});const yt=I(ft,[["__scopeId","data-v-3665d777"]]),bt={class:"mb-3"},kt={class:"mb-3 d-flex flex-wrap"},xt=L({__name:"AuthorListView",setup(i){return(v,f)=>{const c=M("RouterLink");return s(),a("div",null,[t("h1",bt,[h(e(O)),w(" Authors ")]),t("div",kt,[h(c,{to:{name:"authors-add"},class:"btn btn-primary d-flex align-items-center gap-1"},{default:D(()=>[h(e(N)),w(" New Author ")]),_:1})]),h(yt)])}}});const Nt=I(xt,[["__scopeId","data-v-e7a17b9a"]]);export{Nt as default};
